<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAT ÂØ´‰ΩúË≠∞È°å | ËÅñË™ïÂØ´‰ΩúÊ®π 2025</title>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
    <style>
        body{margin:0;min-height:100vh;background:linear-gradient(to bottom,#1e3a5f 0%,#0f1b3a 70%,#0a1428 100%);font-family:'Microsoft JhengHei','Arial',sans-serif;color:white;position:relative;overflow-y:auto;padding:20px 0}
        .snow{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10}
        .snowflake{position:absolute;width:10px;height:10px;background:white;border-radius:50%;opacity:0.8;animation:fall linear infinite}
        @keyframes fall{0%{transform:translateY(-100vh)}100%{transform:translateY(100vh)}}
        .tree{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:400px;height:500px;background:radial-gradient(circle at 50% 0%,#0f5132 30%,#0a3d1f 100%);clip-path:polygon(50% 0%,0% 100%,100% 100%);opacity:0.7;z-index:1}
        .star{position:fixed;top:80px;left:50%;transform:translateX(-50%);width:80px;height:80px;background:radial-gradient(circle,#ffdd00,#ffaa00);clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);box-shadow:0 0 40px #ffd700;animation:twinkle 2s infinite;z-index:5}
        @keyframes twinkle{0%,100%{opacity:1}50%{opacity:0.7}}
        #container{position:relative;width:100vw;min-height:120vh;display:flex;flex-direction:column;align-items:center;padding-top:100px}
        .center{position:sticky;top:20px;width:260px;height:260px;background:radial-gradient(circle,#ffd700,#ff8c00);border-radius:50%;box-shadow:0 0 80px #ffd700,inset 0 0 40px rgba(255,255,255,0.6);display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:34px;font-weight:bold;text-shadow:0 0 20px #000;z-index:20;flex-shrink:0}
        .center span{font-size:26px;margin-top:10px}
        .topics-wrapper{position:relative;width:900px;height:900px;margin:50px auto}
        .topic{position:absolute;width:170px;height:170px;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.6),inset 0 0 25px rgba(255,255,255,0.4),0 0 40px rgba(255,215,0,0.7);transition:transform .3s;animation:float 7s ease-in-out infinite,shine 5s infinite;padding:10px;box-sizing:border-box;z-index:8}
        .topic:hover{transform:scale(1.25)!important;z-index:30}
        .topic .zh{font-size:19px;line-height:1.3}
        .topic .en{font-size:14px;opacity:0.95}
        .c1{background:radial-gradient(circle at 30% 30%,#e74c3c,#c0392b)}.c2{background:radial-gradient(circle at 30% 30%,#f1c40f,#e67e22)}.c3{background:radial-gradient(circle at 30% 30%,#27ae60,#1e8449)}.c4{background:radial-gradient(circle at 30% 30%,#3498db,#2980b9)}.c5{background:radial-gradient(circle at 30% 30%,#9b59b6,#8e44ad)}.c6{background:radial-gradient(circle at 30% 30%,#e91e63,#c2185b)}.c7{background:radial-gradient(circle at 30% 30%,#ff9800,#f57c00)}.c8{background:radial-gradient(circle at 30% 30%,#00bcd4,#0097a7)}.c9{background:radial-gradient(circle at 30% 30%,#e67e22,#d35400)}.c10{background:radial-gradient(circle at 30% 30%,#95a5a6,#7f8c8d)}.c11{background:radial-gradient(circle at 30% 30%,#f39c12,#e67e22)}.c12{background:radial-gradient(circle at 30% 30%,#c0392b,#a93226)}.c13{background:radial-gradient(circle at 30% 30%,#2ecc71,#27ae60)}.c14{background:radial-gradient(circle at 30% 30%,#8e44ad,#71368a)}.c15{background:radial-gradient(circle at 30% 30%,#e74c3c,#c0392b)}.c16{background:radial-gradient(circle at 30% 30%,#16a085,#117a65)}.c17{background:radial-gradient(circle at 30% 30%,#f1c40f,#f39c12)}.c18{background:radial-gradient(circle at 30% 30%,#3498db,#2980b9)}
        @keyframes float{0%,100%{transform:translateY(0) rotate(0deg)}50%{transform:translateY(-25px) rotate(6deg)}}
        @keyframes shine{0%,100%{box-shadow:0 10px 30px rgba(0,0,0,0.6),inset 0 0 25px rgba(255,255,255,0.4),0 0 40px rgba(255,215,0,0.7)}50%{box-shadow:0 10px 30px rgba(0,0,0,0.6),inset 0 0 25px rgba(255,255,255,0.6),0 0 60px rgba(255,215,0,1)}}
        .line{position:absolute;width:2px;background:linear-gradient(to bottom,transparent,#ffd700,transparent);box-shadow:0 0 12px #ffd700;transform-origin:top left;animation:twinkle 3s infinite;pointer-events:none;z-index:1}
        @keyframes twinkle{0%,100%{opacity:0.8}50%{opacity:1;box-shadow:0 0 20px #ffd700}}
        #sentences{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(15,36,57,0.98);padding:40px;border-radius:25px;max-width:950px;width:92%;max-height:92vh;overflow-y:auto;z-index:100;display:none;box-shadow:0 0 100px rgba(255,215,0,0.8);border:3px solid #ffd700}
        .close{position:absolute;top:15px;right:25px;font-size:40px;cursor:pointer;color:#ffd700}
        .sentence{margin:35px 0;padding:25px;background:rgba(255,255,255,0.12);border-radius:18px;line-height:2.3;backdrop-filter:blur(8px);border-left:6px solid #ffd700;font-size:18px}
        .vocab{background:rgba(255,215,0,0.25);padding:3px 7px;border-radius:6px;cursor:pointer;border-bottom:2px solid #ffd700;position:relative}
        .vocab:hover::after{content:attr(data-trans)"Ôºà"attr(data-pron)"Ôºâ";position:absolute;top:-38px;left:50%;transform:translateX(-50%);background:#1e3a5f;color:#ffd700;padding:8px 14px;border-radius:8px;white-space:nowrap;font-size:15px;z-index:10;box-shadow:0 0 15px rgba(0,0,0,0.6)}
        .play-btn{margin-left:18px;cursor:pointer;font-size:28px}
        @media (max-width:1000px){.topics-wrapper{width:700px;height:700px}}
        @media (max-width:768px){.topics-wrapper{width:500px;height:900px}.center{width:220px;height:220px;font-size:28px}.center span{font-size:22px}}
    </style>
</head>
<body>
    <div class="snow"></div>
    <div class="tree"></div>
    <div class="star"></div>

    <div id="container">
        <div class="center">
            GSAT ÂØ´‰ΩúË≠∞È°å
            <span>Writing Topics 2025</span>
        </div>
        <div class="topics-wrapper" id="topicsWrapper"></div>
    </div>

    <div id="sentences">
        <span class="close">√ó</span>
        <h2 id="topic-title" style="text-align:center;color:#ffd700;margin-bottom:30px;"></h2>
        <div id="sentence-list"></div>
    </div>

    <script>
        // È£ÑÈõ™
        const snowContainer = document.querySelector('.snow');
        function createSnowflake() {
            const s = document.createElement('div');
            s.classList.add('snowflake');
            s.style.left = Math.random() * 100 + 'vw';
            s.style.animationDuration = Math.random() * 5 + 5 + 's';
            s.style.opacity = Math.random() * 0.5 + 0.5;
            s.style.width = s.style.height = Math.random() * 8 + 5 + 'px';
            snowContainer.appendChild(s);
            setTimeout(() => s.remove(), 10000);
        }
        setInterval(createSnowflake, 800);

        const csvUrl = "https://raw.githubusercontent.com/DuCJ-creator/Shirley-AI-Writing/main/idea%20bank/topic%20writing%20ideas.csv";
        let data = [];
        const colors = ['c1','c2','c3','c4','c5','c6','c7','c8','c9','c10','c11','c12','c13','c14','c15','c16','c17','c18'];

        // 80ÂÄãÈ´òÈöéÂñÆÂ≠óÂ∫´
        const vocabDict = {
            "equality":["Âπ≥Á≠â","…™Ààkw…ëÀêl…ôti"],"fundamental":["Âü∫Êú¨ÁöÑ","Àåf ånd…ôÀàmentl"],"despite":["ÂÑòÁÆ°","d…™Ààspa…™t"],"discriminatory":["Ê≠ßË¶ñÊÄßÁöÑ","d…™sÀàkr…™m…™n…ôt…îÀêri"],
            "pervasive":["ÊôÆÈÅçÁöÑ","p…úÀêrÀàve…™s…™v"],"underrepresented":["‰ª£Ë°®ÊÄß‰∏çË∂≥ÁöÑ","Àå ånd…ôrrepr…™Ààzent…™d"],"parity":["Âπ≥Á≠â","Ààp√¶r…ôti"],"inroads":["ÈÄ≤Â±ï","Àà…™nro ädz"],
            "sustainable":["Ê∞∏Á∫åÁöÑ","s…ôÀàste…™n…ôbl"],"biodiversity":["ÁîüÁâ©Â§öÊ®£ÊÄß","Àåba…™o äda…™Ààv…úÀêrs…ôti"],"renewable":["ÂèØÂÜçÁîüÁöÑ","r…™ÀànuÀê…ôbl"],"mitigate":["Ê∏õÁ∑©","Ààm…™t…™…°e…™t"],
            "ecosystem":["ÁîüÊÖãÁ≥ªÁµ±","ÀàiÀêko äs…™st…ôm"],"conservation":["‰øùËÇ≤","Àåk…ëÀêns…ôrÀàve…™ Én"],"degradation":["ÈÄÄÂåñ","Àåde…°r…ôÀàde…™ Én"],"resilience":["ÈüåÊÄß","r…™Ààz…™li…ôns"],
            "empower":["Ë≥¶Ê¨ä","…™mÀàpa ä…ôr"],"holistic":["Êï¥È´îÁöÑ","ho äÀàl…™st…™k"],"intercultural":["Ë∑®ÊñáÂåñÁöÑ","Àå…™nt…ôrÀàk ålt É…ôr…ôl"],"inherent":["Âõ∫ÊúâÁöÑ","…™nÀàh…™r…ônt"],
            "advocate":["ÂÄ°Â∞é","Àà√¶dv…ôke…™t"],"proactive":["‰∏ªÂãïÁöÑ","pro äÀà√¶kt…™v"],"stewardship":["ÁÆ°ÁêÜË≤¨‰ªª","ÀàstuÀê…ôrd É…™p"],"imperative":["ÂøÖË¶ÅÁöÑ","…™mÀàper…ôt…™v"],
            "prevalent":["ÊôÆÈÅçÁöÑ","Ààprev…ôl…ônt"],"dignity":["Â∞äÂö¥","Ààd…™…°n…ôti"],"entitled":["ÊúâÊ¨äÂà©ÁöÑ","…™nÀàta…™tld"],"transmit":["ÂÇ≥ÈÅû","tr√¶nsÀàm…™t"],
            "nurture":["ÂüπÈ§ä","Ààn…úÀêrt É…ôr"],"curiosity":["Â•ΩÂ•áÂøÉ","Àåkj äriÀà…ëÀês…ôti"],"lifelong":["ÁµÇË∫´ÁöÑ","Ààla…™fl…îÀê≈ã"],"assess":["Ë©ï‰º∞","…ôÀàses"],
            "trajectory":["ËªåË∑°","tr…ôÀàd íekt…ôri"],"mentorship":["Â∞éÂ∏´Âà∂","Ààment…îÀêr É…™p"],"diversity":["Â§öÊ®£ÊÄß","d…™Ààv…úÀêrs…ôti"],"inclusivity":["ÂåÖÂÆπÊÄß","Àå…™nkluÀêÀàs…™v…™ti"],
            "reconciliation":["ÂíåËß£","Àårek…ôns…™liÀàe…™ Én"],"heritage":["ÈÅ∫Áî¢","Ààher…™t…™d í"],"indigenous":["Âéü‰ΩèÊ∞ëÁöÑ","…™nÀàd…™d í…ôn…ôs"],"preservation":["‰øùÂ≠ò","Àåprez…ôrÀàve…™ Én"],
            "ethical":["ÂÄ´ÁêÜÁöÑ","ÀàeŒ∏…™kl"],"integrity":["Ë™†‰ø°","…™nÀàte…°r…ôti"],"compassion":["ÂêåÊÉÖ","k…ômÀàp√¶ Én"],"altruism":["Âà©‰ªñ","Àà√¶ltru…™z…ôm"],
            "resilient":["ÊúâÈüåÊÄßÁöÑ","r…™Ààz…™li…ônt"],"navigate":["ÊáâÂ∞ç","Ààn√¶v…™…°e…™t"],"interconnectedness":["Áõ∏‰∫íÈÄ£Áµê","Àå…™nt…ôrk…ôÀànekt…™dn…ôs"],"empathy":["ÂêåÁêÜÂøÉ","Ààemp…ôŒ∏i"],
            "transcend":["Ë∂ÖË∂ä","tr√¶nÀàsend"],"cohesion":["ÂáùËÅö","ko äÀàhiÀê ín"],"equitable":["ÂÖ¨Âπ≥ÁöÑ","Ààekw…™t…ôbl"],"governance":["Ê≤ªÁêÜ","Àà…° åv…ôrn…ôns"],
            "accountability":["ÂïèË≤¨","…ôÀåka änt…ôÀàb…™l…ôti"],"impartial":["ÂÖ¨Ê≠£ÁöÑ","…™mÀàp…ëÀêr Él"],"transparency":["ÈÄèÊòé","tr√¶nsÀàp√¶r…ônsi"],"arbitrary":["‰ªªÊÑèÁöÑ","Àà…ëÀêrb…ôtreri"],
            "legitimacy":["Ê≠£Áï∂ÊÄß","l…™Ààd í…™t…™m…ôsi"],"vigilance":["Ë≠¶Ë¶∫","Ààv…™d í…™l…ôns"],"profound":["Ê∑±ÂàªÁöÑ","pr…ôÀàfa änd"],"catastrophic":["ÁÅΩÈõ£ÊÄßÁöÑ","Àåk√¶t…ôÀàstr…ëÀêf…™k"],
            "vulnerable":["ËÑÜÂº±ÁöÑ","Ààv åln…ôr…ôbl"],"mitigation":["Á∑©Ëß£","Àåm…™t…™Àà…°e…™ Én"],"evacuation":["ÁñèÊï£","…™Àåv√¶kjuÀàe…™ Én"],"preparedness":["Ê∫ñÂÇô","pr…™Ààperdn…ôs"],
            "literacy":["Á¥†È§ä","Ààl…™t…ôr…ôsi"],"empowerment":["Ë≥¶Ê¨ä","…™mÀàpa ä…ôrm…ônt"],"inclusive":["ÂåÖÂÆπÁöÑ","…™nÀàkluÀês…™v"],"facilitate":["‰øÉÈÄ≤","f…ôÀàs…™l…™te…™t"],
            "immersive":["Ê≤âÊµ∏ÂºèÁöÑ","…™Ààm…úÀêrs…™v"],"globalization":["ÂÖ®ÁêÉÂåñ","Àå…°lo äb…ôl…ôÀàze…™ Én"],"citizenship":["ÂÖ¨Ê∞ëË∫´‰ªΩ","Ààs…™t…™z…ôn É…™p"],
            "tolerance":["ÂØ¨ÂÆπ","Ààt…ëÀêl…ôr…ôns"],"solidarity":["ÂúòÁµê","Àås…ëÀêl…™Ààd√¶r…ôti"]
        };

        Papa.parse(csvUrl, {
            download: true,
            header: true,
            complete: function(r) {
                data = r.data.filter(x => x.category && x['model sentence']);
                const topics = [...new Set(data.map(x => x.category.trim()))];
                renderTopics(topics);
            }
        });

        function renderTopics(topics) {
            const wrapper = document.getElementById('topicsWrapper');
            const centerX = wrapper.offsetWidth / 2;
            const centerY = wrapper.offsetHeight / 2;
            const baseRadius = Math.min(wrapper.offsetWidth, wrapper.offsetHeight) * 0.42;

            topics.forEach((n, i) => {
                const angle = (i / topics.length) * 2 * Math.PI - Math.PI / 2;
                const radius = i < 9 ? baseRadius * 0.85 : baseRadius * 1.25;
                const x = centerX + radius * Math.cos(angle) - 85;
                const y = centerY + radius * Math.sin(angle) - 85;

                const div = document.createElement('div');
                div.className = `topic ${colors[i]}`;
                div.style.left = x + 'px';
                div.style.top = y + 'px';
                div.style.animationDelay = i * 0.2 + 's';
                const zh = n.split(' ')[0];
                const en = n.split(' ').slice(1).join(' ');
                div.innerHTML = `<div class="zh">${zh}</div><div class="en">${en}</div>`;
                div.onclick = () => showSentences(n);
                wrapper.appendChild(div);

                const dx = x + 85 - centerX, dy = y + 85 - centerY;
                const dist = Math.sqrt(dx * dx + dy * dy);
                const deg = Math.atan2(dy, dx) * 180 / Math.PI;
                const line = document.createElement('div');
                line.className = 'line';
                line.style.width = dist + 'px';
                line.style.left = centerX + 'px';
                line.style.top = centerY + 'px';
                line.style.transform = `rotate(${deg}deg)`;
                wrapper.appendChild(line);
            });
        }

        // ÊØèÊ¨°Âè™Áµ¶ 2 Âè• + Âº∑Âà∂Âè•È¶ñÂ§ßÂØ´
        function showSentences(topic) {
            const rows = data.filter(r => r.category.trim() === topic);
            const selected = rows.sort(() => 0.5 - Math.random()).slice(0, 2);  // Âè™Âèñ 2 Âè•

            document.getElementById('topic-title').textContent = topic;
            const list = document.getElementById('sentence-list');
            list.innerHTML = '';

            selected.forEach(item => {
                let sent = item['model sentence'].trim();

                // Âº∑Âà∂Âè•È¶ñÂ§ßÂØ´Ôºà‰∏çÁÆ° CSV ÂéüÊú¨ÊÄéÈ∫ºÂØ´Ôºâ
                sent = sent.replace(/^["']?(.)/, (match, p1) => p1.toUpperCase());

                sent = highlightVocab(sent);
                const div = document.createElement('div');
                div.className = 'sentence';
                div.innerHTML = `<span>${sent}</span><span class="play-btn" onclick="speak(this.previousElementSibling.textContent)">üîä</span>`;
                list.appendChild(div);
            });

            document.getElementById('sentences').style.display = 'block';
        }

        function highlightVocab(text) {
            let result = text;
            Object.keys(vocabDict).forEach(w => {
                const regex = new RegExp(`\\b${w}\\b`, 'gi');
                result = result.replace(regex, `<span class="vocab" data-trans="${vocabDict[w][0]}" data-pron="${vocabDict[w][1]}">${w}</span>`);
            });
            return result;
        }

        function speak(text) {
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'en-US';
            utter.rate = 0.85;
            speechSynthesis.speak(utter);
        }

        document.querySelector('.close').onclick = () => {
            document.getElementById('sentences').style.display = 'none';
        };
    </script>
</body>
</html>
