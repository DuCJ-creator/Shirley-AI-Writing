<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GSAT ÂØ´‰ΩúË≠∞È°å | ËÅñË™ïÂØ´‰ΩúÊ®π 2025</title>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
    <style>
        body {
            margin: 0;
            height: 100vh;
            background: linear-gradient(to bottom, #1e3a5f 0%, #0f1b3a 70%, #0a1428 100%);
            overflow: hidden;
            font-family: 'Microsoft JhengHei','Arial', sans-serif;
            color: white;
            position: relative;
        }

        /* È£ÑÈõ™ÁâπÊïà */
        .snow {
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
            pointer-events: none;
            animation: fall linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-100vh); }
            100% { transform: translateY(100vh); }
        }

        /* ËÅñË™ïË£ùÈ£æ */
        .tree { 
            position: absolute; 
            bottom: 0; left: 50%; transform: translateX(-50%);
            width: 400px; height: 500px;
            background: radial-gradient(circle at 50% 0%, #0f5132 30%, #0a3d1f 100%);
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            z-index: 0;
            opacity: 0.7;
        }
        .star {
            position: absolute;
            top: 80px; left: 50%; transform: translateX(-50%);
            width: 80px; height: 80px;
            background: radial-gradient(circle, #ffdd00, #ffaa00);
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
            box-shadow: 0 0 40px #ffd700;
            animation: twinkle 2s infinite;
            z-index: 5;
        }
        @keyframes twinkle {
            0%,100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        #container {
            position: relative;
            width: 1000px;
            height: 1000px;
            margin: 0 auto;
        }

        .center {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 260px; height: 260px;
            background: radial-gradient(circle, #ffd700, #ff8c00);
            border-radius: 50%;
            box-shadow: 0 0 80px #ffd700, inset 0 0 40px rgba(255,255,255,0.6);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 34px;
            font-weight: bold;
            text-shadow: 0 0 20px #000;
            z-index: 10;
        }
        .center span { font-size: 26px; margin-top: 10px; }

        .topic {
            position: absolute;
            width: 170px; height: 170px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.6), inset 0 0 25px rgba(255,255,255,0.4), 0 0 40px rgba(255,215,0,0.7);
            transition: transform 0.3s;
            animation: float 7s ease-in-out infinite, shine 5s infinite;
            padding: 10px;
            box-sizing: border-box;
            z-index: 8;
        }
        .topic:hover { transform: scale(1.25) !important; z-index: 30; }
        .topic .zh { font-size: 19px; line-height: 1.3; }
        .topic .en { font-size: 14px; opacity: 0.95; }

        /* 18Á®ÆËÅñË™ïÁ∂ìÂÖ∏ÂΩ©ÁêÉ */
        .c1 { background: radial-gradient(circle at 30% 30%, #e74c3c, #c0392b); }
        .c2 { background: radial-gradient(circle at 30% 30%, #f1c40f, #e67e22); }
        .c3 { background: radial-gradient(circle at 30% 30%, #27ae60, #1e8449); }
        .c4 { background: radial-gradient(circle at 30% 30%, #3498db, #2980b9); }
        .c5 { background: radial-gradient(circle at 30% 30%, #9b59b6, #8e44ad); }
        .c6 { background: radial-gradient(circle at 30% 30%, #e91e63, #c2185b); }
        .c7 { background: radial-gradient(circle at 30% 30%, #ff9800, #f57c00); }
        .c8 { background: radial-gradient(circle at 30% 30%, #00bcd4, #0097a7); }
        .c9 { background: radial-gradient(circle at 30% 30%, #e67e22, #d35400); }
        .c10{ background: radial-gradient(circle at 30% 30%, #95a5a6, #7f8c8d); }
        .c11{ background: radial-gradient(circle at 30% 30%, #f39c12, #e67e22); }
        .c12{ background: radial-gradient(circle at 30% 30%, #c0392b, #a93226); }
        .c13{ background: radial-gradient(circle at 30% 30%, #2ecc71, #27ae60); }
        .c14{ background: radial-gradient(circle at 30% 30%, #8e44ad, #71368a); }
        .c15{ background: radial-gradient(circle at 30% 30%, #e74c3c, #c0392b); }
        .c16{ background: radial-gradient(circle at 30% 30%, #16a085, #117a65); }
        .c17{ background: radial-gradient(circle at 30% 30%, #f1c40f, #f39c12); }
        .c18{ background: radial-gradient(circle at 30% 30%, #3498db, #2980b9); }

        @keyframes float {
            0%,100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(6deg); }
        }
        @keyframes shine {
            0%,100% { box-shadow: 0 10px 30px rgba(0,0,0,0.6), inset 0 0 25px rgba(255,255,255,0.4), 0 0 40px rgba(255,215,0,0.7); }
            50% { box-shadow: 0 10px 30px rgba(0,0,0,0.6), inset 0 0 25px rgba(255,255,255,0.6), 0 0 60px rgba(255,215,0,1); }
        }

        .line {
            position: absolute;
            top: 50%; left: 50%;
            width: 2px;
            background: linear-gradient(to bottom, transparent, #ffd700, transparent);
            box-shadow: 0 0 12px #ffd700;
            transform-origin: top left;
            animation: twinkle 3s infinite;
            pointer-events: none;
            z-index: 1;
        }

        /* ÁØÑÂè•Èù¢Êùø */
        #sentences {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(15,36,57,0.98);
            padding: 40px;
            border-radius: 25px;
            max-width: 950px;
            width: 92%;
            max-height: 92vh;
            overflow-y: auto;
            z-index: 100;
            display: none;
            box-shadow: 0 0 100px rgba(255,215,0,0.8);
            border: 3px solid #ffd700;
        }
        .close { position: absolute; top: 15px; right: 25px; font-size: 40px; cursor: pointer; color: #ffd700; }

        .sentence {
            margin: 30px 0;
            padding: 22px;
            background: rgba(255,255,255,0.12);
            border-radius: 18px;
            line-height: 2.2;
            backdrop-filter: blur(8px);
            border-left: 5px solid #ffd700;
        }

        /* È´òÈöéÂñÆÂ≠óÈ´ò‰∫Æ */
        .vocab {
            background: rgba(255,215,0,0.25);
            padding: 2px 6px;
            border-radius: 6px;
            cursor: pointer;
            border-bottom: 2px solid #ffd700;
            position: relative;
        }
        .vocab:hover::after {
            content: attr(data-trans) "Ôºà" attr(data-pron) "Ôºâ";
            position: absolute;
            top: -35px; left: 50%;
            transform: translateX(-50%);
            background: #1e3a5f;
            color: #ffd700;
            padding: 8px 12px;
            border-radius: 8px;
            white-space: nowrap;
            font-size: 14px;
            z-index: 10;
            box-shadow: 0 0 15px rgba(0,0,0,0.6);
        }

        .play-btn { margin-left: 15px; cursor: pointer; font-size: 26px; }
    </style>
</head>
<body>

    <!-- ËÅñË™ïÊ®π & ÊòüÊòü -->
    <div class="tree"></div>
    <div class="star"></div>

    <div id="container">
        <div class="center">
            GSAT ÂØ´‰ΩúË≠∞È°å
            <span>Writing Topics 2025</span>
        </div>
    </div>

    <div id="sentences">
        <span class="close">&times;</span>
        <h2 id="topic-title" style="text-align:center; color:#ffd700; margin-bottom:30px;"></h2>
        <div id="sentence-list"></div>
    </div>

    <script>
        // Áî¢ÁîüÈ£ÑÈõ™
        function createSnow() {
            const snow = document.createElement('div');
            snow.classList.add('snow');
            snow.style.left = Math.random() * 100 + 'vw';
            snow.style.animationDuration = Math.random() * 5 + 5 + 's';
            snow.style.opacity = Math.random() * 0.5 + 0.5;
            snow.style.width = snow.style.height = Math.random() * 8 + 5 + 'px';
            document.body.appendChild(snow);
            setTimeout(() => snow.remove(), 10000);
        }
        setInterval(createSnow, 100);

        const csvUrl = "https://raw.githubusercontent.com/DuCJ-creator/Shirley-AI-Writing/main/idea%20bank/topic%20writing%20ideas.csv";
        let data = [];
        const colors = ['c1','c2','c3','c4','c5','c6','c7','c8','c9','c10','c11','c12','c13','c14','c15','c16','c17','c18'];

        // È´òÈöéÂñÆÂ≠óË©ûÂ∫´ÔºàÊåÅÁ∫åÂèØÊì¥ÂÖÖÔºâ
        const vocabDict = {
            "equality": ["Âπ≥Á≠â", "…™Ààkw…ëÀêl…ôti"],
            "fundamental": ["Âü∫Êú¨ÁöÑ", "Àåf ånd…ôÀàmentl"],
            "despite": ["ÂÑòÁÆ°", "d…™Ààspa…™t"],
            "discriminatory": ["Ê≠ßË¶ñÊÄßÁöÑ", "d…™sÀàkr…™m…™n…ôt…îÀêri"],
            "sustainable": ["Ê∞∏Á∫åÁöÑ", "s…ôÀàste…™n…ôbl"],
            "biodiversity": ["ÁîüÁâ©Â§öÊ®£ÊÄß", "Àåba…™o äda…™Ààv…úÀêrs…ôti"],
            "renewable": ["ÂèØÂÜçÁîüÁöÑ", "r…™ÀànuÀê…ôbl"],
            "innovation": ["ÂâµÊñ∞", "Àå…™n…ôÀàve…™ Én"],
            "resilience": ["ÈüåÊÄß", "r…™Ààz…™li…ôns"],
            "empower": ["Ë≥¶Ê¨ä", "…™mÀàpa ä…ôr"],
            "holistic": ["Êï¥È´îÁöÑ", "ho äÀàl…™st…™k"],
            "intercultural": ["Ë∑®ÊñáÂåñÁöÑ", "Àå…™nt…ôrÀàk ålt É…ôr…ôl"],
            "mitigate": ["Ê∏õÁ∑©", "Ààm…™t…™…°e…™t"],
            "advocate": ["ÂÄ°Â∞é", "Àà√¶dv…ôke…™t"],
            "inherent": ["Âõ∫ÊúâÁöÑ", "…™nÀàh…™r…ônt"],
            "prevalent": ["ÊôÆÈÅçÁöÑ", "Ààprev…ôl…ônt"],
            "imperative": ["ÂøÖË¶ÅÁöÑ", "…™mÀàper…ôt…™v"],
            "proactive": ["‰∏ªÂãïÁöÑ", "pro äÀà√¶kt…™v"],
            "stewardship": ["ÁÆ°ÁêÜË≤¨‰ªª", "ÀàstuÀê…ôrd É…™p"],
            "paradigm": ["ÂÖ∏ÁØÑ", "Ààp√¶r…ôda…™m"]
        };

        Papa.parse(csvUrl, {
            download: true,
            header: true,
            complete: function(results) {
                data = results.data.filter(r => r.category && r['model sentence']);
                const topics = [...new Set(data.map(r => r.category.trim()))];
                renderTopics(topics);
            }
        });

        function renderTopics(topics) {
            const radius = 370;
            const centerX = 500, centerY = 500;

            topics.forEach((fullName, i) => {
                const angle = (i / topics.length) * 2 * Math.PI - Math.PI/2;
                const x = centerX + radius * Math.cos(angle) - 85;
                const y = centerY + radius * Math.sin(angle) - 85;

                const div = document.createElement('div');
                div.className = `topic ${colors[i]}`;
                div.style.left = x + 'px';
                div.style.top = y + 'px';
                div.style.animationDelay = i*0.2 + 's';

                const zh = fullName.split(' ')[0];
                const en = fullName.split(' ').slice(1).join(' ');
                div.innerHTML = `<div class="zh">${zh}</div><div class="en">${en}</div>`;
                div.onclick = () => showSentences(fullName);
                document.getElementById('container').appendChild(div);

                // ÈáëËâ≤Ááà‰∏≤
                const dx = x + 85 - centerX;
                const dy = y + 85 - centerY;
                const dist = Math.sqrt(dx*dx + dy*dy);
                const angleDeg = Math.atan2(dy, dx) * 180 / Math.PI;

                const line = document.createElement('div');
                line.className = 'line';
                line.style.width = dist + 'px';
                line.style.left = centerX + 'px';
                line.style.top = centerY + 'px';
                line.style.transform = `rotate(${angleDeg}deg)`;
                document.getElementById('container').appendChild(line);
            });
        }

        function showSentences(topic) {
            const rows = data.filter(r => r.category.trim() === topic);
            const selected = rows.sort(() => 0.5 - Math.random()).slice(0, 3);

            document.getElementById('topic-title').textContent = topic;
            const list = document.getElementById('sentence-list');
            list.innerHTML = '';

            selected.forEach(item => {
                let sent = item['model sentence'].trim();
                sent = highlightVocab(sent);
                const div = document.createElement('div');
                div.className = 'sentence';
                div.innerHTML = `<span>${sent}</span><span class="play-btn" onclick="speak('${sent.replace(/'/g,"\\'").replace(/"/g,'\\"')}')">üîä</span>`;
                list.appendChild(div);
            });

            document.getElementById('sentences').style.display = 'block';
        }

        function highlightVocab(text) {
            let result = text;
            Object.keys(vocabDict).forEach(word => {
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                result = result.replace(regex, `<span class="vocab" data-trans="${vocabDict[word][0]}" data-pron="${vocabDict[word][1]}">${word}</span>`);
            });
            return result;
        }

        function speak(text) {
            // ÂÖàË™™Ëã±ÊñáÂñÆÂ≠óÔºåÂÜçË™™Êï¥Âè•
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'en-US';
            utter.rate = 0.85;
            speechSynthesis.speak(utter);
        }

        document.querySelector('.close').onclick = () => {
            document.getElementById('sentences').style.display = 'none';
        };
    </script>
</body>
</html>
